webpackJsonp([3],{FDXP:function(t,e,n){t.exports=n.p+"static/img/common_icon_used@2x.4fab874.png"},Oz2Y:function(t,e){},S2t3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={props:["tabIndex","couponList"],data:function(){return{showLoad:!1,allLoaded:!1,loading:"",bottomStatus:""}},computed:{},components:{},created:function(){},methods:{couponInit:function(){this.$route.name},countDay:function(t,e){var n="",s=t,a=e,o=(new Date).getTime(),i=new Date(a).getTime(),c=Date.parse(new Date(s.replace(/-/g,"/"))),r=Date.parse(new Date(a.replace(/-/g,"/")));o>=c&&(c=o);var u=r-c,d=Math.floor(u/864e5),l=u%864e5,p=Math.floor(l/36e5),v=l%36e5,_=Math.floor(v/6e4);if(!(o-i>=0))return d>0?(n=d,this.dateStr="天"):d<=0&&p>0?(n=p,this.dateStr="小时"):d<=0&&p<=0&&_>0&&(n=_,this.dateStr="分钟"),n},loadMore:function(){this.loading=!0,this.showLoad=!0,this.$emit("loadMore")}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"coupon"}},[s("div",{staticClass:"coupon-list"},[s("ul",t._l(t.couponList,function(e,a){return s("li",{staticClass:"coupon-item"},[s("div",{staticClass:"coupon-price",class:[1==t.tabIndex?"enable":"unable"]},[s("span",{staticClass:"price"},[s("em",[t._v("￥")]),t._v(t._s(e.totalAmount))])]),t._v(" "),s("div",{staticClass:"coupon-info"},[s("p",{staticClass:"coupon-name"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"coupon-code"},[t._v(t._s(e.cardNum))])]),t._v(" "),s("div",{staticClass:"coupon-date"},[s("div",{staticClass:"check-box"},[1==t.tabIndex&&"ConfirmCoupon"==t.$route.name?s("input",{staticClass:"checkbox",attrs:{type:"checkbox",name:"",id:"",value:""}}):t._e(),t._v(" "),3!=t.tabIndex?s("div",[t._v("剩"),s("em",[t._v(t._s(t.countDay(e.startTime,e.EndTime)))]),t._v(t._s(t.dateStr))]):t._e(),t._v(" "),3==t.tabIndex?s("div",[t._v("已过期")]):t._e()])]),t._v(" "),2==t.tabIndex?s("img",{staticClass:"used-icon",attrs:{src:n("FDXP")}}):t._e()])}))])])},staticRenderFns:[]},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"eidt_header"}},[e("div",{staticClass:"header-bar"},[e("img",{staticClass:"lt-arrow",attrs:{src:n("3Uj3")},on:{click:this.goBack}}),this._v(" "),e("span",{staticClass:"title"},[this._v(this._s(this.headerTitle))]),this._v(" "),this._t("edit")],2)])},staticRenderFns:[]},i=1,c={data:function(){return{headerTitle:"优惠券",tabIndex:1,isEmpty:!1,params:{pa:1,li:10,ob:1,ot:1,status:1},couponList:[]}},components:{Coupon:n("VU/8")(s,a,!1,function(t){n("dK+X")},null,null).exports,EditHeader:n("VU/8")({props:["headerTitle"],methods:{}},o,!1,function(t){n("Oz2Y")},null,null).exports},created:function(){this.getCouponList(1)},watch:{$route:function(t,e){}},methods:{editClick:function(){this.$router.push({name:"AddCoupon"})},changeTab:function(t){this.tabIndex=t,this.couponList=[],this.getCouponList(t)},loadMore:function(){console.log("loadMore")},getCouponList:function(t){var e=this;this.$set(this.params,"status",t),this.$Api.getCouponList(this.params).then(function(t){console.log(t),0==t.q.s&&(0==t.q.total&&1==i?e.isEmpty=!0:(e.couponList=t.q.coupons,e.isEmpty=!1))})}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"coupon-page"}},[n("edit-header",{attrs:{headerTitle:t.headerTitle}},[n("span",{staticClass:"edit",attrs:{slot:"edit"},on:{click:t.editClick},slot:"edit"},[t._v("添加优惠券")])]),t._v(" "),n("div",{staticClass:"coupon-tab"},[n("span",{class:{active:1==t.tabIndex},on:{click:function(e){t.changeTab(1)}}},[t._v("未使用")]),t._v(" "),n("span",{class:{active:2==t.tabIndex},on:{click:function(e){t.changeTab(2)}}},[t._v("已使用")]),t._v(" "),n("span",{class:{active:3==t.tabIndex},on:{click:function(e){t.changeTab(3)}}},[t._v("已过期")])]),t._v(" "),n("div",{staticClass:"coupon-wrap",class:{"coupon-wrap-type":"ConfirmCoupon"==t.$route.name}},[t.isEmpty?t._e():n("coupon",{attrs:{tabIndex:t.tabIndex,couponList:t.couponList},on:{loadMore:t.loadMore}}),t._v(" "),t.isEmpty?n("div",{staticStyle:{"text-align":"center"}},[t._v("暂无数据")]):t._e()],1),t._v(" "),"ConfirmCoupon"==t.$route.name?n("div",{staticClass:"coupon-btn"},[t._v("确定")]):t._e()],1)},staticRenderFns:[]},u=n("VU/8")(c,r,!1,function(t){n("ytGn")},null,null);e.default=u.exports},"dK+X":function(t,e){},ytGn:function(t,e){}});
//# sourceMappingURL=3.cf01aa0cc71847e3f598.js.map