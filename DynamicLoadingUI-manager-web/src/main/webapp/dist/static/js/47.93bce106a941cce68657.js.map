{"version":3,"sources":["webpack:///src/pages/Register/ImprovePhone.vue","webpack:///./src/pages/Register/ImprovePhone.vue?4c22","webpack:///./src/pages/Register/ImprovePhone.vue"],"names":["_this","this","mobile","res","checkKey","d","count","countDown","getSmsCode","_this2","cd","_this3","code","getUserBindingSubmit","_this4","then","submitCode","Register_ImprovePhone","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","src","__webpack_require__","_v","directives","name","rawName","value","forget","expression","type","maxlength","placeholder","domProps","on","input","$event","target","composing","$set","reset","class","c-999","click","getCode","_s","_e","active","forgetActive","finish","staticRenderFns","Component","normalizeComponent","ImprovePhone","ssrContext","__webpack_exports__"],"mappings":"oLA+BA,QACA,SACA,UACA,WAGA,+KAiBA,yBAGA,IAAAA,EAAAC,UAEA,OACA,qBAGAC,0DAEAC,sBAEA,+BACAC,uBAEAC,0DAMA,4BACAC,2BAEA,yBAEA,uBACA,OACAC,iBACAC,8BAGA,kCAGA,IAAAC,EAAAR,uCAEAK,2CAEA,mBACA,gBACAI,KAEA,4BAGA,IAAAC,EAAAV,UAEA,OACA,qBACAC,4BACAE,0BAGAQ,uDAGAC,gCAEA,8CAKA,IAAAC,EAAAb,mBACAC,qBACAE,6EAGAD,8BAGA,qBACA,IAFAY,KAAA,SAAAZ,6DAMA,0CAKA,oBACA,IAFAY,KAAA,SAAAZ,mBAWAE,6BAMAW,gBCtJAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAlB,KAAamB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,mBAAsBH,EAAA,OAAYI,YAAA,SAAmBJ,EAAA,OAAYI,YAAA,aAAAF,OAAgCG,IAAAC,EAAA,WAA6CT,EAAAU,GAAA,KAAAP,EAAA,OAAwBI,YAAA,iBAA2BJ,EAAA,MAAAH,EAAAU,GAAA,UAAAV,EAAAU,GAAA,KAAAP,EAAA,OAAkDI,YAAA,iBAA2BJ,EAAA,OAAAA,EAAA,SAAwBQ,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAd,EAAAe,OAAA,OAAAC,WAAA,kBAAoFT,YAAA,SAAAF,OAA8BY,KAAA,MAAAC,UAAA,KAAAC,YAAA,WAAsDC,UAAWN,MAAAd,EAAAe,OAAA,QAA4BM,IAAKC,OAAA,SAAAC,GAA0BA,EAAAC,OAAAC,WAAsCzB,EAAA0B,KAAA1B,EAAAe,OAAA,SAAAQ,EAAAC,OAAAV,QAAoDd,EAAA2B,UAAa3B,EAAAU,GAAA,KAAAP,EAAA,OAAwBI,YAAA,sBAAgCJ,EAAA,SAAcQ,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAd,EAAAe,OAAA,KAAAC,WAAA,gBAAgFT,YAAA,oBAAAF,OAAyCY,KAAA,IAAAC,UAAA,IAAAC,YAAA,YAAoDC,UAAWN,MAAAd,EAAAe,OAAA,MAA0BM,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,WAAsCzB,EAAA0B,KAAA1B,EAAAe,OAAA,OAAAQ,EAAAC,OAAAV,WAAoDd,EAAAU,GAAA,KAAAP,EAAA,OAAwBI,YAAA,WAAAqB,OAA8BC,QAAA7B,EAAAe,OAAA5B,MAAA,GAA4BkC,IAAKS,MAAA9B,EAAA+B,WAAqB/B,EAAAU,GAAAV,EAAAgC,GAAAhC,EAAAe,OAAA5B,MAAA,MAAAa,EAAAe,OAAA5B,MAAA,mBAAAa,EAAAU,GAAA,KAAAV,EAAAe,OAAA,OAAAZ,EAAA,OAAqHI,YAAA,WAAqBP,EAAAU,GAAA,aAAAV,EAAAgC,GAAAhC,EAAAe,OAAAhC,WAAAiB,EAAAiC,OAAAjC,EAAAU,GAAA,KAAAP,EAAA,OAAoFI,YAAA,MAAAqB,OAAyBM,OAAAlC,EAAAmC,cAAwBd,IAAKS,MAAA9B,EAAAoC,UAAoBpC,EAAAU,GAAA,iBAEzhD2B,oBCejBC,EAdA7B,EAAA,OAcA8B,CACAC,EACA1C,GATA,EAVA,SAAA2C,GACAhC,EAAA,SAaA,KAEA,MAUAiC,EAAA,QAAAJ,EAAA","file":"static/js/47.93bce106a941cce68657.js","sourcesContent":["<template>\n\t<div id=\"improve-phone\">\n\t\t<div class=\"main\">\n\t\t\t<img class=\"login-logo\" src=\"../../assets/home/logo.png\" />\n\t\t\t<div class=\"improve-main\">\n\t\t\t\t<h3>完善信息</h3>\n\t\t\t\t<div class=\"login-forget\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input class=\"bb-ccc\" v-model=\"forget.mobile\" type=\"tel\" maxlength=\"11\" placeholder=\"请输入手机号码\" @input=\"reset\"/>\n\t\t\t\t\t\t<div class=\"phone-code bb-ccc\">\n\t\t\t\t\t\t\t<input type=\"t\" v-model=\"forget.code\" maxlength=\"6\" class=\"bb-ccc input-code\" placeholder=\"请输入短信验证码\">\n\t\t\t\t\t\t\t<div class=\"get-code\" :class=\"{'c-999': forget.count>0}\" @click=\"getCode\">{{forget.count>0?'('+forget.count+'s)':'获取验证码'}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"remind\" v-if=\"forget.isSend\">验证码已发送至手机：{{forget.mobile}}</div>\n\t\t\t\t\t\t<!--<div class=\"forget-btn btn\" :class=\"{active:forgetActive}\" @click=\"nextStep\">下一步</div>-->\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"btn\" :class=\"{active:forgetActive}\" @click=\"finish\">完成</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport md5 from 'blueimp-md5';\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tforget: {\n\t\t\t\t\tmobile: '',\n\t\t\t\t\tcode: '',\n\t\t\t\t\tcount: 0,\n\t\t\t\t\tisSend: false,\n\t\t\t\t\tpassword: '',\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\twatch: {},\n\t\tcomputed: {\n\t\t\tforgetActive() {\n\t\t\t\tif(this.forget.mobile.length == 11 && this.forget.code.length > 0) {\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tcreated() {\n\n\t\t},\n\t\tmethods: {\n\t\t\treset(){\n\t\t\t\tthis.isSend = false\n\t\t\t},\n\t\t\t//获取验证码\n\t\t\tgetSmsCode() {\n\t      let param = {\n\t        a: 1,\n\t        type: 9,\n\t        mobile: this.forget.mobile,\n\t      }\n\t\n\t      this.$Api.SMSCode(param).then((res) => {\n\t        console.log(res);\n\t        if(res.q.s == 0) {\n\t          this.$toast('发送成功!');\n\t          this.forget.checkKey = res.q.checkKey;\n\t        }else {\n\t          this.$toast(res.q.d);\n\t        }\n\t      })\n\t\t\t},\n\t\t\t//获取验证码\n\t\t\tgetCode() {\n\t\t\t\tif(this.forget.mobile.length == 11) {\n\t\t\t\t\tconsole.log(this.forget.count)\n\t\t\t\t\tif(this.forget.count > 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.forget.count = 10;\n\t\t\t\t\t\tthis.forget.isSend = true\n\t\t\t\t\t\tthis.countDown()\n\t\t\t\t\t\tthis.getSmsCode()\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.$toast('请输入正确手机号')\n\t\t\t\t}\n\t\t\t},\n\t\t\tcountDown() {\n\t\t\t\tvar cd = setInterval(() => {\n\t\t\t\t\tthis.forget.count--;\n\t\t\t\t\tif(this.forget.count <= 0) {\n\t\t\t\t\t\tthis.forget.count = 0;\n\t\t\t\t\t\tthis.forget.isSend = false\n\t\t\t\t\t\tclearInterval(cd);\n\t\t\t\t\t}\n\t\t\t\t}, 1000)\n\t\t\t},\n\t\t\t//提交忘记密码验证码\n      submitCode() {\n        let codeParam = {\n          a: 2,\n          type: 9,\n          mobile: this.forget.mobile,\n          checkKey:this.forget.checkKey,\n          code: this.forget.code\n        }\n\n        this.$Api.SMSCode(codeParam).then((res) => {\n          if(res.q.s == 0) {\n          \tthis.getUserBindingSubmit()\n          }else {\n            this.$toast('手机验证码出错')\n          }\n        })\n      },\n      \n\t\t\tgetUserBindingSubmit(){\n\t\t\t\tlet mobile = this.forget.mobile\n\t\t\t\tlet checkKey = this.forget.checkKey\n\t\t\t\tlet partner = 17 //绑定手机号码\n\t\t\t\tthis.$Api.getUserBindingSubmit(mobile,checkKey,partner).then((res)=>{\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tif(res.q.s == 0){\n\t\t\t\t\t\tthis.$popup({\n\t\t\t\t\t\t\tcontent:'绑定手机成功',\n\t\t\t\t\t\t\tshowCancel:false,\n\t\t\t\t\t\t}).then((res)=>{\n\t\t\t\t\t\t\tif(res == 'sure'){\n//\t\t\t\t\t\t\t\tthis.$router.replace({name:'Index'})\n\t\t\t\t\t\t\t\tthis.$router.replace({path:sessionStorage.getItem('path')})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}else if(res.q.s == 1104){\n\t\t\t\t\t\tthis.$popup({\n\t\t\t\t\t\t\tcontent:'手机已绑定',\n\t\t\t\t\t\t\tshowCancel:false,\n\t\t\t\t\t\t}).then((res)=>{\n\t\t\t\t\t\t\tif(res == 'sure'){\n//\t\t\t\t\t\t\t\tthis.$router.replace({name:'Index'})\n//\t\t\t\t\t\t\t\tthis.$router.replace({path:sessionStorage.getItem('path')})\n//\t\t\t\t\t\t\t\tlocalStorage.setItem('improvePhone','improvePhone')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$toast(res.q.d)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tfinish() {\n\t\t\t\tthis.submitCode()\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t@import \"../../sass/baseSass.scss\";\n\t#improve-phone {\n\t\theight: 100%;\n\t\tbackground: #fff;\n\t\twidth: 100%;\n\t\t.main {\n\t\t\theight: 100%;\n\t\t\t.login-logo {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 7.2rem;\n\t\t\t}\n\t\t\t/*height: 100%;\n      background: url(\"../../assets/home/logo.png\") no-repeat center top;\n      background-size: 100% auto;*/\n\t\t}\n\t\t.improve-main {\n\t\t\twidth: 80%;\n\t\t\theight: 7.36rem;\n\t\t\tpadding: 0.44rem;\n\t\t\t/*position: absolute;\n      bottom: 2rem;\n      left: 1rem;*/\n\t\t\tmargin: 0 auto;\n\t\t\tbox-shadow: 0rem -0.07rem 0.13rem 0.01rem rgba(67, 67, 67, 0.06), 0rem 0.07rem 0.13rem 0rem rgba(0, 0, 0, 0.13);\n\t\t\tborder-radius: 0.11rem;\n\t\t\th3 {\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-size: 0.48rem;\n\t\t\t\tcolor: #de7fef;\n\t\t\t\tmargin-bottom: 0.25rem;\n\t\t\t}\n\t\t\tinput {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 1.2rem;\n\t\t\t\tborder: none;\n\t\t\t\tfont-size: 0.37rem;\n\t\t\t\tcolor: #333;\n\t\t\t\tbackground: #fff;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t\t.bb-ccc {\n\t\t\t\tborder-bottom: 1px #d8d8d8 solid;\n\t\t\t}\n\t\t}\n\t\t.login-forget {\n\t\t\tmargin-top: 0.4rem;\n\t\t\t.phone-code,\n\t\t\tinput {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 1.2rem;\n\t\t\t\tborder: none;\n\t\t\t\tfont-size: 0.37rem;\n\t\t\t\tcolor: #333;\n\t\t\t\tbackground: #fff;\n\t\t\t\tposition: relative;\n\t\t\t\tborder-bottom: 1px #d8d8d8 solid\n\t\t\t}\n\t\t\t.input-code {\n\t\t\t\twidth: 4.5rem\n\t\t\t}\n\t\t}\n\t\t\n\t\t.remind {\n\t\t\tfont-size: 0.32rem;\n\t\t\tcolor: #666;\n\t\t\tmargin-top: 0.3rem;\n\t\t}\n\t\t.phone-code,\n\t\tinput {\n\t\t\twidth: 100%;\n\t\t\theight: 1.2rem;\n\t\t\tborder: none;\n\t\t\tfont-size: 0.37rem;\n\t\t\tcolor: #333;\n\t\t\tbackground: #fff;\n\t\t\tposition: relative;\n\t\t}\n\t\t.bb-ccc {\n\t\t\tborder-bottom: 1px #d8d8d8 solid;\n\t\t}\n\t\tinput.input-code {\n\t\t\twidth: 4.5rem;\n\t\t}\n\t\t.get-code {\n\t\t\twidth: 2.5rem;\n\t\t\theight: 0.6rem;\n\t\t\tline-height: 0.6rem;\n\t\t\ttext-align: center;\n\t\t\tfont-size: 0.35rem;\n\t\t\tcolor: #de7fef;\n\t\t\tposition: absolute;\n\t\t\tright: 0;\n\t\t\ttop: 0.3rem;\n\t\t\tborder-left: 1px #d8d8d8 solid;\n\t\t}\n\t\t.c-999 {\n\t\t\tcolor: #999;\n\t\t}\n\t\t.info-avatar {\n\t\t\twidth: 2rem;\n\t\t\theight: 2rem;\n\t\t\tbackground-color: #cccccc;\n\t\t\tborder: solid 0.01rem #cccccc;\n\t\t\tmargin: 0.53rem auto;\n\t\t\tborder-radius: 1rem;\n\t\t\tline-height: 2rem;\n\t\t\ttext-align: center;\n\t\t\tcolor: #fff;\n\t\t\tposition: relative;\n\t\t\toverflow: hidden;\n\t\t\tfont-size: 0.45rem;\n\t\t\tinput#image_input {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tfilter: alpha(opacity=0);\n\t\t\t\t-moz-opacity: 0;\n\t\t\t\t-khtml-opacity: 0;\n\t\t\t\topacity: 0;\n\t\t\t}\n\t\t\t.avatar {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tborder-radius: 1rem;\n\t\t\t}\n\t\t}\n\t\t.btn {\n\t\t\twidth: 6.93rem;\n\t\t\theight: 1.07rem;\n\t\t\tbackground: #ccc;\n\t\t\tborder-radius: 0.53rem;\n\t\t\tmargin: 0 auto;\n\t\t\tline-height: 1.07rem;\n\t\t\tcolor: #fff;\n\t\t\tfont-size: 0.43rem;\n\t\t\ttext-align: center;\n\t\t\tmargin-top: 0.53rem;\n\t\t}\n\t\t.btn.active {\n\t\t\tbackground-image: linear-gradient(135deg, #fe9bba 0%, #de7fef 100%);\n\t\t}\n\t}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/Register/ImprovePhone.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"improve-phone\"}},[_c('div',{staticClass:\"main\"},[_c('img',{staticClass:\"login-logo\",attrs:{\"src\":require(\"../../assets/home/logo.png\")}}),_vm._v(\" \"),_c('div',{staticClass:\"improve-main\"},[_c('h3',[_vm._v(\"完善信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"login-forget\"},[_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.forget.mobile),expression:\"forget.mobile\"}],staticClass:\"bb-ccc\",attrs:{\"type\":\"tel\",\"maxlength\":\"11\",\"placeholder\":\"请输入手机号码\"},domProps:{\"value\":(_vm.forget.mobile)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.forget, \"mobile\", $event.target.value)},_vm.reset]}}),_vm._v(\" \"),_c('div',{staticClass:\"phone-code bb-ccc\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.forget.code),expression:\"forget.code\"}],staticClass:\"bb-ccc input-code\",attrs:{\"type\":\"t\",\"maxlength\":\"6\",\"placeholder\":\"请输入短信验证码\"},domProps:{\"value\":(_vm.forget.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.forget, \"code\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{staticClass:\"get-code\",class:{'c-999': _vm.forget.count>0},on:{\"click\":_vm.getCode}},[_vm._v(_vm._s(_vm.forget.count>0?'('+_vm.forget.count+'s)':'获取验证码'))])]),_vm._v(\" \"),(_vm.forget.isSend)?_c('div',{staticClass:\"remind\"},[_vm._v(\"验证码已发送至手机：\"+_vm._s(_vm.forget.mobile))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",class:{active:_vm.forgetActive},on:{\"click\":_vm.finish}},[_vm._v(\"完成\")])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7da41b58\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Register/ImprovePhone.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true,\\\"importLoader\\\":2}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7da41b58\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ImprovePhone.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImprovePhone.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImprovePhone.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7da41b58\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ImprovePhone.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Register/ImprovePhone.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}