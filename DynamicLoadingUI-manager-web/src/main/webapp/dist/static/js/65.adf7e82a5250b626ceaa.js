webpackJsonp([65],{VE9L:function(t,i){},uWFp:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("mvHQ"),a=s.n(e),n={data:function(){var t=this;return{showBottom:!0,showSend:!1,actions:[{name:"微信好友",callback:function(){console.log(1),t.linkToUrl("transmit")}},{name:"我的好友",callback:function(){console.log(2),t.linkToUrl("transmit")}}],type:"",article:{},gifts:[],expireTime:"",packageId:"",spuId:"",skuId:""}},created:function(){this.getGiftDetail()},methods:{reply:function(){this.$router.push({name:"SendGift"})},recoverGift:function(t){var i=this,s={spuId:this.gifts[0].spuId,skuId:this.gifts[0].skuId,num:this.gifts[0].num,storeId:this.gifts[0].storeId,type:this.gifts[0].spuType};console.log(s),this.$Api.getGiftRecycleSubmit(t,s).then(function(s){console.log(s),0==s.q.s?2==t?i.$popup({title:"回收礼物",content:"是否确定回收礼物？回收价格为：￥"+s.q.realAmount}).then(function(t){"sure"==t&&i.recoverGift(1)}):1==t&&(i.$toast(s.q.d),setTimeout(function(){i.$router.replace({name:"Gift"})},1500)):i.$toast(s.q.d)})},transmit:function(){if(this.gifts.length>0){var t=this.gifts[0],i=a()(t);i=i.replace("giftName","name"),this.$router.push({name:"SendGift",query:{giftObj:i}})}},getGiftDetail:function(){var t=this,i="",s=this.$route.query.packageId;i=this.$route.query.shareBy?2:1,this.$Api.getGiftDetails(i,s).then(function(s){0==s.q.s?(t.showBottom=!0,t.article=s.q.article,t.expireTime=s.q.expireTime,t.gifts=s.q.gifts,t.type=s.q.gifts[0].spuType,t.packageId=s.q.packageId,2==i&&t.$toast("礼物领取成功")):(t.showBottom=!1,t.article=s.q.article,t.gifts=s.q.gifts,t.$popup({content:s.q.d,showCancel:!1}).then(function(i){"sure"==i&&t.$router.replace({name:"Index"})}))})}},components:{Gift:s("Xevy").a}},c={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{attrs:{id:"giftDetail"}},[s("common-header",{attrs:{title:"礼物详情"}}),t._v(" "),s("div",{staticClass:"giftDetail__info"},[s("div",{staticClass:"info__user"},[s("div",{staticClass:"user__avatar"},[s("img",{attrs:{src:t.article.imagePath,alt:""}})]),t._v(" "),s("div",{staticClass:"user__right"},[s("div",{staticClass:"user__right__info"},[s("div",{staticClass:"info__name"},[s("span",[t._v(t._s(t.article.authorName))])]),t._v(" "),s("div",{staticClass:"info__date"},[t._v(t._s(t.article.time))])]),t._v(" "),s("div",{staticClass:"user__right__btn",on:{click:t.reply}},[s("div",{staticClass:"btn__icon"}),t._v(" "),s("div",{staticClass:"btn__text"},[t._v("回礼")])])])]),t._v(" "),s("div",{staticClass:"info__message"},[s("div",{staticClass:"info__message__content"},[t._v(t._s(t.article.content))]),t._v(" "),s("div",{staticClass:"info__message__video"},t._l(t.article.images,function(t,i){return s("img",{staticClass:"video",attrs:{src:t.imagePath,alt:""}})}))])]),t._v(" "),s("Gift",{staticClass:"giftDetail__good",attrs:{gifts:t.gifts}}),t._v(" "),t.showBottom?s("div",{staticClass:"giftDetail__btn"},[s("div",{staticClass:"btn",on:{click:t.transmit}},[t._v("转赠")]),t._v(" "),"1"==t.type?s("div",{staticClass:"btn",on:{click:function(i){t.recoverGift(2)}}},[t._v("回收")]):t._e(),t._v(" "),s("div",{staticClass:"btn col",on:{click:function(i){t.linkToUrl({name:"Send",query:{packageId:t.packageId,type:t.type,spuId:t.spuId,skuId:t.skuId}})}}},[s("div",{staticClass:"send"},[t._v("实物发货")]),t._v(" "),1==t.type?s("div",{staticClass:"time"},[t._v("("+t._s(t.expireTime)+")")]):t._e()])]):t._e()],1)},staticRenderFns:[]},o=s("VU/8")(n,c,!1,function(t){s("VE9L")},null,null);i.default=o.exports}});
//# sourceMappingURL=65.adf7e82a5250b626ceaa.js.map