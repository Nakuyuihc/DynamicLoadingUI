{"version":3,"sources":["webpack:///./src/assets/promote/my_img_promotion2@2x.png","webpack:///src/pages/Mine/Promote/PromotePhone/PromotePhone.vue","webpack:///./src/pages/Mine/Promote/PromotePhone/PromotePhone.vue?4d35","webpack:///./src/pages/Mine/Promote/PromotePhone/PromotePhone.vue"],"names":["module","exports","__webpack_require__","p","PromotePhone","getopenId","getInviteJoinInfo","shareBy","_this","this","mobile","checkKey","d","countDown","getSmsCode","_this2","count","cd","_this3","smscode","getUserBindingSubmit","_this4","openId","rewardType","rewardRefId","then","res","submitCode","_this5","q","Object","code","PromotePhone_PromotePhone","render","_vm","_h","$createElement","_c","_self","attrs","id","_m","_v","staticClass","directives","name","rawName","value","expression","type","maxlength","placeholder","domProps","on","input","$event","target","composing","class","c-999","click","getCode","_s","finish","staticRenderFns","src","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"0CAAAA,EAAAC,QAAAC,EAAAC,EAAA,kICmBA,IAAAC,iCAIA,WACA,WACA,SACA,UACA,WACA,sBAGA,6BAGAC,iBACAC,mFAIAC,+BAGA,IAAAC,EAAAC,UAEA,OACA,cAGAC,iEAGA,wBACAC,uBAEAC,mDAMA,iBAEA,kBAEA,gBACA,OACAC,iBACAC,8BAGA,kCAGA,IAAAC,EAAAN,gCAEAO,6BAEA,YACA,gBACAC,KAEA,4BAEA,IAAAC,EAAAT,UAEA,OACA,cACAC,qBACAC,mBAGAQ,0DAGAC,gCAEA,8CAIA,IAAAC,EAAAZ,UAEA,cACAC,qBACAC,iBACA,eACAW,gCACAC,qCACAC,sCAEAjB,qFAIA,qBACA,IAFAkB,KAAA,SAAAC,gFAWA,oBACA,IAFAD,KAAA,SAAAC,mBAQAd,6BAKAe,2CAGA,IAAAC,EAAAnB,yBACAF,oEAEAmB,2BAEAG,uDAMAC,gDAEA,SACA,uEAEA,kBAGAC,sBC3JAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAzB,KAAa0B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,mBAAsBN,EAAAO,GAAA,GAAAP,EAAAQ,GAAA,KAAAL,EAAA,OAAkCM,YAAA,YAAsBN,EAAA,OAAYM,YAAA,eAAyBN,EAAA,SAAcO,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAb,EAAA,OAAAc,WAAA,WAAsET,OAASU,KAAA,MAAAC,UAAA,KAAAC,YAAA,WAAsDC,UAAWL,MAAAb,EAAA,QAAqBmB,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCvB,EAAAxB,OAAA6C,EAAAC,OAAAT,aAAiCb,EAAAQ,GAAA,KAAAL,EAAA,OAA0BM,YAAA,eAAyBN,EAAA,SAAcO,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAb,EAAA,QAAAc,WAAA,YAAwET,OAASU,KAAA,OAAAC,UAAA,IAAAC,YAAA,OAAkDC,UAAWL,MAAAb,EAAA,SAAsBmB,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCvB,EAAAf,QAAAoC,EAAAC,OAAAT,WAAkCV,EAAA,QAAaM,YAAA,YAAAe,OAA+BC,QAAAzB,EAAAlB,MAAA,GAAqBqC,IAAKO,MAAA1B,EAAA2B,WAAqB3B,EAAAQ,GAAAR,EAAA4B,GAAA5B,EAAAlB,MAAA,MAAAkB,EAAAlB,MAAA,mBAAAkB,EAAAQ,GAAA,KAAAL,EAAA,OAAmFM,YAAA,MAAAU,IAAsBO,MAAA1B,EAAA6B,UAAoB7B,EAAAQ,GAAA,eAExiCsB,iBADjB,WAAoC,IAAa7B,EAAb1B,KAAa2B,eAA0BC,EAAvC5B,KAAuC6B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBM,YAAA,WAAqBN,EAAA,OAAYM,YAAA,SAAAJ,OAA4B0B,IAAA/D,EAAA,gBCgBjLgE,EAdAhE,EAAA,OAcAiE,CACA/D,EACA4B,GATA,EAVA,SAAAoC,GACAlE,EAAA,SAaA,KAEA,MAUAmE,EAAA,QAAAH,EAAA","file":"static/js/21.7c8b4c1a1bd6bbd371eb.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/my_img_promotion2@2x.b7ed421.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/promote/my_img_promotion2@2x.png\n// module id = 8CyG\n// module chunks = 21","<template>\n\t<div id=\"promote-Phone\">\n\t\t<div class=\"header\">\n\t\t\t<img src=\"../../../../assets/promote/my_img_promotion2@2x.png\" class=\"bg-img\"/>\n\t\t</div>\n\t\t<div class=\"content\">\n\t\t\t<div class=\"input-wrap\">\n\t\t\t\t<input type=\"tel\" maxlength=\"11\" placeholder=\"请输入手机号码\" v-model=\"mobile\"/>\n\t\t\t</div>\n\t\t\t<div class=\"input-wrap\">\n\t\t\t\t<input type=\"text\" maxlength=\"6\" placeholder=\"验证码\" v-model=\"smscode\"/><span class=\"send-code\" :class=\"{'c-999': count>0}\" @click=\"getCode\">{{count>0?'('+count+'s)':'获取验证码'}}</span>\n\t\t\t</div>\n\t\t\t<div class=\"btn\" @click=\"finish\">立即加入</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\t\nexport default {\n\tdata(){\n\t\treturn {\n\t\t\tmobile:'',\n\t\t\tsmscode:'',\n\t\t\tshareId:'',\n\t\t  count: 0,\n\t\t  isSend:false,\n\t\t  checkKey:'',\n\t\t  joinInfo:{},\n\t\t  openId:'',\n\t\t}\n\t},\n\tcreated(){\n\t\tthis.getopenId()\n\t\tthis.getInviteJoinInfo()\n\t},\n\tmethods:{\n\t\tgetShareId(){\n\t\t\tthis.shareId = this.$route.query.shareBy\n\t\t},\n\t\t//获取验证码\n\t\tgetSmsCode() {\n      let param = {\n        a: 1,\n        type: 9,\n        mobile: this.mobile,\n      }\n\n      this.$Api.SMSCode(param).then((res) => {\n        if(res.q.s == 0) {\n          this.$toast('发送成功!');\n          this.checkKey = res.q.checkKey;\n        }else {\n          this.$toast(res.q.d);\n        }\n      })\n\t\t},\n\t\t//获取验证码\n\t\tgetCode() {\n\t\t\tif(this.mobile.length == 11) {\n\t\t\t\tif(this.count > 0) {\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tthis.count = 10;\n\t\t\t\t\tthis.isSend = true\n\t\t\t\t\tthis.countDown()\n\t\t\t\t\tthis.getSmsCode()\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.$toast('请输入正确手机号')\n\t\t\t}\n\t\t},\n\t\tcountDown() {\n\t\t\tvar cd = setInterval(() => {\n\t\t\t\tthis.count--;\n\t\t\t\tif(this.count <= 0) {\n\t\t\t\t\tthis.count = 0;\n\t\t\t\t\tthis.isSend = false\n\t\t\t\t\tclearInterval(cd);\n\t\t\t\t}\n\t\t\t}, 1000)\n\t\t},\n\t\tsubmitCode() {\n      let codeParam = {\n        a: 2,\n        type: 9,\n        mobile: this.mobile,\n        checkKey:this.checkKey,\n        code: this.smscode\n      }\n\n      this.$Api.SMSCode(codeParam).then((res) => {\n        if(res.q.s == 0) {\n        \tthis.getUserBindingSubmit()\n        }else {\n          this.$toast('手机验证码出错')\n        }\n      })\n    },\n    getUserBindingSubmit(){\n\t\t\tlet params = {\n\t\t\t\ta:1,\n\t\t\t\tmobile:this.mobile,\n\t\t\t\tcheckKey:this.checkKey,\n\t\t\t  partner:17,\n\t\t\t\topenId:this.openId,\n\t\t\t\trewardType:this.joinInfo.rewardType,\n\t\t\t\trewardRefId:this.joinInfo.rewardRefId,\n\t\t\t\tshareBy:this.$route.query.shareBy\n\t\t\t}\n\t\t\tthis.$Api.AcceptInviteSubmit(params).then((res)=>{\n\t\t\t\tif(res.q.s == 0){\n\t\t\t\t\tthis.$popup({\n\t\t\t\t\t\tcontent:'绑定手机成功',\n\t\t\t\t\t\tshowCancel:false,\n\t\t\t\t\t}).then((res)=>{\n\t\t\t\t\t\tif(res == 'sure'){\n\t\t\t\t\t\t\tthis.$router.replace({name:'Index'})\n//\t\t\t\t\t\t\tthis.$router.replace({path:sessionStorage.getItem('path')})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}else if(res.q.s == 1104){\n\t\t\t\t\tthis.$popup({\n\t\t\t\t\t\tcontent:'手机已绑定',\n\t\t\t\t\t\tshowCancel:false,\n\t\t\t\t\t}).then((res)=>{\n\t\t\t\t\t\tif(res == 'sure'){\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tthis.$toast(res.q.d)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tfinish(){\n\t\t\tthis.submitCode()\n\t\t},\n\t\t\n\t\tgetInviteJoinInfo(){\n\t\t\tlet shareId = this.$route.query.shareBy\n\t\t\tthis.$Api.getInviteJoinInfo(shareId).then((res)=>{\n\t\t\t\tconsole.log(res)\n\t\t\t\tif(res.q.s == 0){\n\t\t\t\t\tthis.joinInfo = res.q\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tgetopenId(){\n\t\t\tvar url = location.search; //获取url中\"?\"符后的字串   \n\t\t\tvar theRequest = new Object();   \n\t\t\tif (url.indexOf(\"?\") != -1) {   \n\t\t    var str = url.substr(1);   \n\t\t    var strs = str.split(\"&\");   \n\t\t    for(var i = 0; i < strs.length; i ++) {   \n\t\t      theRequest[strs[i].split(\"=\")[0]]=unescape(strs[i].split(\"=\")[1]);   \n\t\t    }   \n\t\t\t}\n\t\t\tthis.openId = theRequest.code;\n\t\t}\n\t},\n  components: {\n  \t\n  },\n  \n}\n</script>\n\n<style lang=\"scss\">\n\t@import \"../../../../sass/baseSass.scss\";\n\t#promote-Phone{\n\t\t.c-999 {\n\t\t\tcolor: #999;\n\t\t}\n\t\t.header{\n\t\t\t.bg-img{\n\t\t\t\theight: 10.0rem;\n\t\t\t\twidth: 10.0rem;\n\t\t\t}\n\t\t}\n\t\t.content{\n\t\t\tfont-size: 0.43rem;\n\t\t\t>div{\n\t\t\t\twidth: 8.0rem;\n\t\t\t\theight: 1.17rem;\n\t\t\t\tline-height: 1.17rem;\n\t\t\t\tborder-radius: 0.59rem;\n\t\t\t\tmargin: 0 auto 0.27rem auto;\n\t\t\t\t\n\t\t\t}\n\t\t\t.input-wrap{\n\t\t\t\tdisplay: flex;\n\t\t\t\tborder: 1px solid $label-color;\n\t\t\t\t>input[type=tel]{\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tpadding: 0 .67rem;\n\t\t\t\t}\n\t\t\t\t>input[type=text]{\n\t\t\t\t\t/*width: 60%;*/\n\t\t\t\t\tflex: 6;\n\t\t\t\t\ttext-indent: 0.67rem;\n\t\t\t\t}\n\t\t\t\t.send-code{\n\t\t\t\t\tflex: 4;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t@include bg-color;\n\t\t\t\t\tborder-radius: 0 0.59rem 0.59rem 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.btn{\n\t\t\t\ttext-align: center;\n\t\t\t\tcolor: #fff;\n\t\t\t\t@include bg-color;\n\t\t\t}\n\t\t}\n\t}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/Mine/Promote/PromotePhone/PromotePhone.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"promote-Phone\"}},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"input-wrap\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mobile),expression:\"mobile\"}],attrs:{\"type\":\"tel\",\"maxlength\":\"11\",\"placeholder\":\"请输入手机号码\"},domProps:{\"value\":(_vm.mobile)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.mobile=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-wrap\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.smscode),expression:\"smscode\"}],attrs:{\"type\":\"text\",\"maxlength\":\"6\",\"placeholder\":\"验证码\"},domProps:{\"value\":(_vm.smscode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.smscode=$event.target.value}}}),_c('span',{staticClass:\"send-code\",class:{'c-999': _vm.count>0},on:{\"click\":_vm.getCode}},[_vm._v(_vm._s(_vm.count>0?'('+_vm.count+'s)':'获取验证码'))])]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.finish}},[_vm._v(\"立即加入\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('img',{staticClass:\"bg-img\",attrs:{\"src\":require(\"../../../../assets/promote/my_img_promotion2@2x.png\")}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc49d268\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Mine/Promote/PromotePhone/PromotePhone.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true,\\\"importLoader\\\":2}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dc49d268\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PromotePhone.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PromotePhone.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PromotePhone.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dc49d268\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PromotePhone.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Mine/Promote/PromotePhone/PromotePhone.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}