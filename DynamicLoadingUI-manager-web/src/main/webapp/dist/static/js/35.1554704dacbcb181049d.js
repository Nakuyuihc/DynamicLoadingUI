webpackJsonp([35],{Cq6i:function(t,s){},"KMf/":function(t,s){},pKY6:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("i2Wk"),a={data:function(){return{tabIndex:0,status:["已取消","待支付","已支付","待发货","发货中","已发货","待收货","待评价","已完成","","争议处理中","申请退货","退货中","退货已收货","退货完成"],orderList:[]}},components:{},created:function(){var t=this;this.$Api.untilSessionId().then(function(){t.getOrderList(99)})},methods:{checkTab:function(t){this.tabIndex=t;var s=void 0;switch(t){case 0:s=99;break;case 1:s=1;break;case 2:s=3;break;case 3:s=6;break;case 4:s=7}this.getOrderList(s)},toAfterSale:function(){this.$router.push({name:"AfterSale"})},logisticsInfo:function(){var t=this.logistics.detailUrl+this.logistics.sn;window.location.href=t},showDel:function(t){var s=this;this.$popup({content:"确认要删除选中的订单?"}).then(function(e){"sure"==e&&s.getOrderUpdate(2,t)})},confirm:function(t){var s=this;this.$popup({content:"确认已经收到货物?"}).then(function(e){"sure"==e&&s.getOrderUpdate(4,t)})},toOrderDetail:function(t){this.$router.push({name:"OrderDetail",params:{id:t}})},toPayment:function(t,s){if(this.$call.testType().wechat)this.$router.push({name:"Cashier",query:{orderId:t,realAmount:s}});else{var e={action:0,amount:s,orderId:t};checkOutCounter(e)}},toSelectGoods:function(t){},getOrderList:function(t){var s=this;this.$Api.getOrderList(1,t).then(function(t){0==t.q.s&&(s.orderList=t.q.orders)})},getOrderUpdate:function(t,s){var e=this;this.$Api.getOrderUpdate(t,s).then(function(s){if(0==s.q.s)if(e.tabIndex=0,e.getOrderList(99),3!=t)e.$toast("操作成功"),setTimeout(function(){e.$router.replace({name:"OrderList"})},1e3);else if(3==t){var i=s.q.orderId;if(e.$call.testType().wechat)e.$router.push({name:"Cashier",query:{orderId:i,realAmount:e.Order.goodsAmount}});else{var a={action:0,amount:e.Order.goodsAmount,orderId:i};checkOutCounter(a)}}})},contactService:function(t){this.$call.testType().wechat||contactCustomerService(t)}}},n={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"order_list"}},[e("div",{staticClass:"list-header"},[e("div",{class:{active:0==t.tabIndex},on:{click:function(s){t.checkTab(0)}}},[t._v("全部")]),t._v(" "),e("div",{class:{active:1==t.tabIndex},on:{click:function(s){t.checkTab(1)}}},[t._v("待付款")]),t._v(" "),e("div",{class:{active:2==t.tabIndex},on:{click:function(s){t.checkTab(2)}}},[t._v("待发货")]),t._v(" "),e("div",{class:{active:3==t.tabIndex},on:{click:function(s){t.checkTab(3)}}},[t._v("待收货")]),t._v(" "),e("div",{class:{active:4==t.tabIndex},on:{click:function(s){t.checkTab(4)}}},[t._v("待评价")])]),t._v(" "),e("div",{staticClass:"list-container"},[t.orderList.length>0?t._l(t.orderList,function(s,i){return e("div",{staticClass:"list-wrap"},[e("div",{staticClass:"shop-info"},[e("span",{staticClass:"shop-label"},[t._v(t._s(1==s.directSale?"自营":"加载"))]),t._v(" "),e("span",[t._v(t._s(s.orgName))]),t._v(" "),0==s.status?e("span",{staticClass:"fl-right negative"},[t._v("已取消")]):2==s.status?e("span",{staticClass:"fl-right active"},[t._v("已付款")]):t._e(),t._v(" "),0!=s.status&&2!=s.status?e("span",{staticClass:"fl-right normal"},[t._v(t._s(t.status[s.status]))]):t._e()]),t._v(" "),t._l(s.goodsList,function(i,a){return e("div",{staticClass:"list-item",on:{click:function(e){t.toOrderDetail(s.subOrderId)}}},[e("div",{staticClass:"good-img"},[e("img",{staticClass:"goods-img",attrs:{src:i.imagePath,alt:""}})]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"goods-name"},[t._v(t._s(i.name))]),t._v(" "),e("div",{staticClass:"goods-norms"},[t._v(t._s(i.productSize)+" "),""!=i.packing.name?e("span",[t._v("("+t._s(i.packing.name)+")")]):t._e()]),t._v(" "),e("div",{staticClass:"goods-prices"},[e("div",{staticClass:"packprice"},[t._v("包装费：￥"+t._s(i.packPrice))]),t._v(" "),e("span",{staticClass:"price"},[e("em",{staticClass:"price-icon"},[t._v("￥")]),t._v(t._s(i.discountPrice))]),t._v(" "),e("span",{staticClass:"num fl-right"},[e("em",[t._v("x")]),t._v(t._s(i.buyNum))])])])])}),t._v(" "),e("div",{staticClass:"list-price"},[e("span",[t._v("共"+t._s(s.total)+"件商品")]),e("span",{staticClass:"price"},[t._v("合计:"),e("em",{staticClass:"price-icon"},[t._v("￥")]),t._v(t._s(s.realAmount))])]),t._v(" "),e("div",{staticClass:"list-btns"},[0==s.status?[e("span",{on:{click:function(e){t.showDel(s.subOrderId)}}},[t._v("删除订单")])]:t._e(),t._v(" "),1==s.status?[e("span",{staticClass:"active",on:{click:function(e){t.toPayment(s.id,s.realAmount)}}},[t._v("立即支付")])]:t._e(),t._v(" "),2==s.status||3==s.status?[e("span",{on:{click:function(e){t.contactService(s)}}},[t._v("联系客服")])]:t._e(),t._v(" "),5==s.status||6==s.status?[e("span",{on:{click:function(e){t.toOrderDetail(s.subOrderId)}}},[t._v("查看物流")]),t._v(" "),e("span",{staticClass:"active",on:{click:function(e){t.confirm(s.subOrderId)}}},[t._v("确认收货")])]:t._e(),t._v(" "),7==s.status?[e("span",{staticClass:"active",on:{click:function(e){t.toSelectGoods(s.subOrderId)}}},[t._v("立即评价")])]:t._e(),t._v(" "),8==s.status?[e("span",[t._v("申请售后")]),t._v(" "),e("span",{on:{click:function(e){t.showDel(s.subOrderId)}}},[t._v("删除订单")])]:t._e()],2)],2)}):[e("div",{staticStyle:{"text-align":"center"}},[t._v("暂无数据")])]],2)])},staticRenderFns:[]},c={data:function(){return{}},components:{OrderList:e("VU/8")(a,n,!1,function(t){e("Cq6i")},null,null).exports,CommonHeader:i.a},methods:{}},r={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"my-order"}},[s("common-header",{attrs:{title:"我的订单"}}),this._v(" "),s("order-list")],1)},staticRenderFns:[]},o=e("VU/8")(c,r,!1,function(t){e("KMf/")},null,null);s.default=o.exports}});
//# sourceMappingURL=35.1554704dacbcb181049d.js.map