webpackJsonp([47],{"9fA5":function(t,e){},vHLk:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o("AJcs");var i={data:function(){return{forget:{mobile:"",code:"",count:0,isSend:!1,password:""}}},watch:{},computed:{forgetActive:function(){return 11==this.forget.mobile.length&&this.forget.code.length>0}},created:function(){},methods:{reset:function(){this.isSend=!1},getSmsCode:function(){var t=this,e={a:1,type:9,mobile:this.forget.mobile};this.$Api.SMSCode(e).then(function(e){console.log(e),0==e.q.s?(t.$toast("发送成功!"),t.forget.checkKey=e.q.checkKey):t.$toast(e.q.d)})},getCode:function(){if(11==this.forget.mobile.length){if(console.log(this.forget.count),this.forget.count>0)return;this.forget.count=10,this.forget.isSend=!0,this.countDown(),this.getSmsCode()}else this.$toast("请输入正确手机号")},countDown:function(){var t=this,e=setInterval(function(){t.forget.count--,t.forget.count<=0&&(t.forget.count=0,t.forget.isSend=!1,clearInterval(e))},1e3)},submitCode:function(){var t=this,e={a:2,type:9,mobile:this.forget.mobile,checkKey:this.forget.checkKey,code:this.forget.code};this.$Api.SMSCode(e).then(function(e){0==e.q.s?t.getUserBindingSubmit():t.$toast("手机验证码出错")})},getUserBindingSubmit:function(){var t=this,e=this.forget.mobile,o=this.forget.checkKey;this.$Api.getUserBindingSubmit(e,o,17).then(function(e){console.log(e),0==e.q.s?t.$popup({content:"绑定手机成功",showCancel:!1}).then(function(e){"sure"==e&&t.$router.replace({path:sessionStorage.getItem("path")})}):1104==e.q.s?t.$popup({content:"手机已绑定",showCancel:!1}).then(function(t){}):t.$toast(e.q.d)})},finish:function(){this.submitCode()}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"improve-phone"}},[i("div",{staticClass:"main"},[i("img",{staticClass:"login-logo",attrs:{src:o("QQ3S")}}),t._v(" "),i("div",{staticClass:"improve-main"},[i("h3",[t._v("完善信息")]),t._v(" "),i("div",{staticClass:"login-forget"},[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.forget.mobile,expression:"forget.mobile"}],staticClass:"bb-ccc",attrs:{type:"tel",maxlength:"11",placeholder:"请输入手机号码"},domProps:{value:t.forget.mobile},on:{input:[function(e){e.target.composing||t.$set(t.forget,"mobile",e.target.value)},t.reset]}}),t._v(" "),i("div",{staticClass:"phone-code bb-ccc"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.forget.code,expression:"forget.code"}],staticClass:"bb-ccc input-code",attrs:{type:"t",maxlength:"6",placeholder:"请输入短信验证码"},domProps:{value:t.forget.code},on:{input:function(e){e.target.composing||t.$set(t.forget,"code",e.target.value)}}}),t._v(" "),i("div",{staticClass:"get-code",class:{"c-999":t.forget.count>0},on:{click:t.getCode}},[t._v(t._s(t.forget.count>0?"("+t.forget.count+"s)":"获取验证码"))])]),t._v(" "),t.forget.isSend?i("div",{staticClass:"remind"},[t._v("验证码已发送至手机："+t._s(t.forget.mobile))]):t._e()]),t._v(" "),i("div",{staticClass:"btn",class:{active:t.forgetActive},on:{click:t.finish}},[t._v("完成")])])])])])},staticRenderFns:[]},s=o("VU/8")(i,n,!1,function(t){o("9fA5")},null,null);e.default=s.exports}});
//# sourceMappingURL=47.93bce106a941cce68657.js.map