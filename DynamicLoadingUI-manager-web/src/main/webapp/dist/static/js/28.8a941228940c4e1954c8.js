webpackJsonp([28],{V8CU:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("woOf"),a=s.n(e),n={props:{type:{type:String,default:"normal"},index:{type:Number,default:1},giftList:{type:Array,default:[]}},data:function(){return{activeIndex:"",giftType:1}},watch:{index:function(){console.log(this.index)}},mounted:function(){},methods:{checked:function(t){this.$emit("checked",t)},togiftDetail:function(t){console.log(t),0==t.packageId?this.$router.push({name:"OrderList"}):this.$router.push({name:"GiftDetail",query:{packageId:t.packageId,type:t.type,spuId:t.spuId,skuId:t.skuId,storeId:t.storeId,num:t.num}})}}},c={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{class:{gift__virtual:"virtual"==t.type},attrs:{id:"gift__list"}},[t._l(t.giftList,function(i){return"virtual"!=t.type?s("div",{staticClass:"gift",on:{click:function(s){t.togiftDetail(i)}}},[s("div",{staticClass:"gift__left"},[s("img",{attrs:{src:i.imagePath,alt:""}})]),t._v(" "),s("div",{staticClass:"gift__right"},[s("div",{staticClass:"gift__right__name"},[t._v(t._s(i.name))]),t._v(" "),s("div",{staticClass:"gift__right__bottom"},["virtual"!=t.type?s("div",{staticClass:"bottom__price"},[t._v("￥"+t._s(i.price))]):t._e(),t._v(" "),s("div",{staticClass:"bottom__info"},["virtual"!=t.type?s("span",{staticClass:"user"},[t._v("赠送者："+t._s(0==i.senderId?"自购":i.senderName))]):t._e(),t._v(" "),"virtual"==t.type?s("span",{staticClass:"heart"},[s("span",{staticClass:"heart__icon"}),t._v(" "),s("span",{staticClass:"heart__num"},[t._v(t._s(i.price))])]):t._e(),t._v(" "),s("span",{staticClass:"num"},[t._v("x"+t._s(i.num))])])])])]):t._e()}),t._v(" "),t._l(t.giftList,function(i,e){return"virtual"==t.type?s("div",{key:e,staticClass:"gift virtual"},[s("div",{staticClass:"gift__check"},[s("input",{staticClass:"radio",attrs:{type:"radio",name:"address"},on:{click:function(i){t.checked(e)}}})]),t._v(" "),s("div",{staticClass:"gift__left"},[s("img",{attrs:{src:i.imagePath,alt:""}})]),t._v(" "),s("div",{staticClass:"gift__right"},[s("div",{staticClass:"gift__right__name"},[t._v(t._s(i.name))]),t._v(" "),s("div",{staticClass:"gift__right__bottom"},["virtual"!=t.type?s("div",{staticClass:"bottom__price"},[t._v("￥"+t._s(i.price))]):t._e(),t._v(" "),s("div",{staticClass:"bottom__info"},["virtual"!=t.type?s("span",{staticClass:"user"},[t._v("赠送者："+t._s(i.senderName))]):t._e(),t._v(" "),"virtual"==t.type?s("span",{staticClass:"heart"},[s("span",{staticClass:"heart__icon"}),t._v(" "),s("span",{staticClass:"heart__num"},[t._v(t._s(i.price))])]):t._e(),t._v(" "),s("span",{staticClass:"num"},[t._v("x"+t._s(i.num))])])])])]):t._e()})],2)},staticRenderFns:[]},o={data:function(){return{active:"1",value:1,index:1,goodses:[],PARAMS:{pa:1,li:9999,ob:1}}},created:function(){this.getGiftGoodsList(1)},methods:{changeType:function(t){switch(this.active=t,this.index=t,this.goodses=[],document.documentElement.scrollTop=0,this.PARAMS=a()({},this.PARAMS,{pa:1}),t){case 1:this.getGiftGoodsList(1);break;case 2:this.getGiftGoodsList(5);break;case 3:this.getGiftGoodsList(21)}},valueChange:function(t){this.value+=t},getCheckedIndex:function(t){console.log(t)},getGiftGoodsList:function(t){var i=this;this.$Api.getGiftGoodsList(t,this.PARAMS).then(function(t){if(console.log(t),0==t.q.s)if(1==i.PARAMS.pa)i.goodses=t.q.goodses;else if(i.PARAMS.pa>1&&t.q.goodses.length>0){var s=i.goodses;i.goodses=s.concat(t.q.goodses)}})},loadMore:function(){var t=this;this.loading=!0,setTimeout(function(){t.PARAMS=a()({},t.PARAMS,{pa:parseInt(t.PARAMS.pa)+1});var i="";1==t.index?i=1:2==t.index?i=5:3==t.index&&(i=21),t.getGiftGoodsList(i),t.loading=!1},1e3)}},components:{Gift:s("VU/8")(n,c,!1,function(t){s("YKXl")},null,null).exports,Counter:s("iASY").a}},l={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{attrs:{id:"gift"}},[s("common-header",{attrs:{title:"礼物包",link:"礼物记录"},on:{linkClick:function(i){t.linkTo("GiftData")}}}),t._v(" "),s("div",{staticClass:"gift__tab"},[s("span",{staticClass:"tab",class:{active:1==t.active},attrs:{"data-id":"1"},on:{click:function(i){t.changeType(1)}}},[t._v("实物礼物")]),t._v(" "),s("span",{staticClass:"tab",class:{active:2==t.active},attrs:{"data-id":"2"},on:{click:function(i){t.changeType(2)}}},[t._v("定制礼物")]),t._v(" "),s("span",{staticClass:"tab",class:{active:3==t.active},attrs:{"data-id":"3"},on:{click:function(i){t.changeType(3)}}},[t._v("虚拟礼物")])]),t._v(" "),s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list-wrap",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"15","infinite-scroll-immediate-check":"false"}},[1==t.active?s("Gift",{attrs:{index:t.index,giftList:t.goodses}}):2==t.active?s("Gift",{attrs:{type:"DIY",index:t.index,giftList:t.goodses}}):3==t.active?s("Gift",{attrs:{type:"virtual",index:t.index,giftList:t.goodses},on:{checked:t.getCheckedIndex}}):t._e()],1),t._v(" "),t.goodses.length<=0?s("div",[t._v("暂无数据")]):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:3==t.active,expression:"active == 3"}],staticClass:"gift__bottom"},[s("div",{staticClass:"count"},[s("span",{staticClass:"count__text"},[t._v("数量")]),t._v(" "),s("Counter",{attrs:{num:t.value,max:5},on:{change:t.valueChange}})],1),t._v(" "),s("div",{staticClass:"submit"},[t._v("兑换零钱")])])],1)},staticRenderFns:[]},r=s("VU/8")(o,l,!1,function(t){s("Vygg")},null,null);i.default=r.exports},Vygg:function(t,i){},YKXl:function(t,i){}});
//# sourceMappingURL=28.8a941228940c4e1954c8.js.map