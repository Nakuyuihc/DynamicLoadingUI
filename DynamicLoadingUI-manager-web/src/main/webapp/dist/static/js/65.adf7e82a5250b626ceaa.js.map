{"version":3,"sources":["webpack:///src/pages/Mine/GiftDetail/GiftDetail.vue","webpack:///./src/pages/Mine/GiftDetail/GiftDetail.vue?82b4","webpack:///./src/pages/Mine/GiftDetail/GiftDetail.vue"],"names":["_this","this","getGiftDetail","_this2","spuId","skuId","num","storeId","spuType","goodObj","res","realAmount","then","d","giftObj","giftStr","_this3","packageId","article","expireTime","gifts","Gift","GiftDetail_GiftDetail","render","_vm","_h","$createElement","_c","_self","attrs","id","title","_v","staticClass","src","imagePath","alt","_s","authorName","time","on","click","reply","content","_l","item","index","transmit","type","$event","recoverGift","_e","linkToUrl","name","query","staticRenderFns","Component","__webpack_require__","normalizeComponent","GiftDetail","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/65.adf7e82a5250b626ceaa.js","sourcesContent":["<template>\r\n  <div id=\"giftDetail\">\r\n    <common-header :title=\"'礼物详情'\"></common-header>\r\n    <div class=\"giftDetail__info\">\r\n      <div class=\"info__user\">\r\n        <div class=\"user__avatar\">\r\n          <img :src=\"article.imagePath\" alt=\"\">\r\n        </div>\r\n\r\n        <div class=\"user__right\">\r\n          <div class=\"user__right__info\">\r\n            <div class=\"info__name\">\r\n              <span>{{article.authorName}}</span>\r\n              <!--<span class=\"female\"></span>-->\r\n            </div>\r\n            <div class=\"info__date\">{{article.time}}</div>\r\n          </div>\r\n\r\n          <div class=\"user__right__btn\" @click=\"reply\">\r\n            <div class=\"btn__icon\"></div>\r\n            <div class=\"btn__text\">回礼</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"info__message\">\r\n        <div class=\"info__message__content\">{{article.content}}</div>\r\n        <div class=\"info__message__video\">\r\n          <img class=\"video\" :src=\"item.imagePath\" alt=\"\" v-for=\"(item,index) in article.images\">\r\n          <!--<div class=\"play\">\r\n            <div class=\"play__icon\"></div>\r\n            <div class=\"play__text\">祝福视频</div>\r\n          </div>-->\r\n        </div>\n        <!--<div class=\"info__message__video\">\r\n          <img class=\"video\" :src=\"item.imagePath\" alt=\"\" v-for=\"(item,index) in article.images\">\r\n          <div class=\"play\">\r\n            <div class=\"play__icon\"></div>\r\n            <div class=\"play__text\">祝福视频</div>\r\n          </div>\r\n        </div>-->\r\n      </div>\r\n    </div>\r\n\r\n    <Gift class=\"giftDetail__good\" :gifts=\"gifts\"/>\r\n\r\n    <div class=\"giftDetail__btn\" v-if=\"showBottom\">\r\n      <div class=\"btn\" @click=\"transmit\">转赠</div>\r\n      <div class=\"btn\" @click=\"recoverGift(2)\" v-if=\"type == '1'\">回收</div>\r\n      <div class=\"btn col\" @click=\"linkToUrl({name:'Send',query:{packageId,type,spuId,skuId}})\">\r\n        <div class=\"send\">实物发货</div>\r\n        <div class=\"time\" v-if=\"type==1\">({{expireTime}})</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 转赠按钮 -->\r\n    <!--<van-actionsheet v-model=\"showSend\" :actions=\"actions\" :cancel-text=\"'取消'\"/>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Gift from '@/components/Goods/Goods';\r\n  export default {\r\n    data() {\r\n      return {\r\n      \tshowBottom:true,\r\n        showSend: false, //是否显示actionsheet\r\n        actions: [\r\n          {\r\n            name: '微信好友',\r\n            callback: () => {\r\n              console.log(1)\r\n              this.linkToUrl('transmit');\r\n            }\r\n          },\r\n          {\r\n            name: '我的好友',\r\n            callback: () => {\r\n              console.log(2)\r\n              this.linkToUrl('transmit');\r\n            }\r\n          }\r\n        ],\r\n        type:'',\r\n        article:{},\r\n        gifts:[],\r\n        expireTime:'',\r\n        packageId:'',\r\n        spuId:'',\r\n        skuId:'',\r\n      }\r\n    },\r\n\t\tcreated(){\r\n//\t\t\tthis.getUserDetails();\r\n\t\t\tthis.getGiftDetail()\r\n\t\t},\r\n    methods: {\r\n    \treply(){\r\n\t\t\t\tthis.$router.push({name:'SendGift'})    \t\t\r\n    \t},\r\n//  \tgetUserDetails() {\r\n//\t\t\t\tthis.$Api.UserDetails(0).then((res) => {\r\n//\t\t\t\t\tconsole.log(res);\r\n//\t\t\t\t\tif(res.q.s == 0){\r\n//\t\t\t\t\t\tthis.getGiftDetail()\r\n//\t\t\t\t\t}\r\n//\t\t\t\t})\r\n//\t\t\t},\r\n    \trecoverGift(action){\r\n    \t\tlet goodObj = {\r\n    \t\t\tspuId : this.gifts[0].spuId,\n    \t\t\tskuId : this.gifts[0].skuId,\n    \t\t\tnum : this.gifts[0].num,\n    \t\t\tstoreId : this.gifts[0].storeId,\n    \t\t\ttype: this.gifts[0].spuType\r\n    \t\t}\r\n    \t\tconsole.log(goodObj)\r\n    \t\t\r\n    \t\tthis.$Api.getGiftRecycleSubmit(action,goodObj).then((res)=>{\r\n    \t\t\tconsole.log(res)\r\n    \t\t\tif(res.q.s == 0){\r\n    \t\t\t\tif(action == 2){\r\n    \t\t\t\t\tthis.$popup({\r\n    \t\t\t\t\t\ttitle:'回收礼物',\r\n    \t\t\t\t\t\tcontent:'是否确定回收礼物？回收价格为：￥'+res.q.realAmount\r\n    \t\t\t\t\t}).then((res)=>{\r\n    \t\t\t\t\t\tif(res=='sure'){\r\n    \t\t\t\t\t\t\tthis.recoverGift(1)\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t})\r\n    \t\t\t\t}else if(action == 1){\r\n    \t\t\t\t\tthis.$toast(res.q.d)\r\n    \t\t\t\t\tsetTimeout(()=>{\r\n    \t\t\t\t\t\tthis.$router.replace({name:'Gift'})\r\n    \t\t\t\t\t},1500)\r\n    \t\t\t\t}\r\n    \t\t\t}else{\r\n    \t\t\t\tthis.$toast(res.q.d)\r\n    \t\t\t}\r\n    \t\t})\r\n    \t},\r\n      //转赠礼物\r\n      transmit() {\r\n      \tif(this.gifts.length > 0){\r\n      \t\tlet giftObj = this.gifts[0]\r\n      \t\tlet giftStr = JSON.stringify(giftObj)\r\n      \t\tgiftStr = giftStr.replace('giftName','name')\r\n\t\t\t\t\tthis.$router.push({name:'SendGift',query:{giftObj:giftStr}})      \t\t\r\n      \t}\r\n      },\r\n      getGiftDetail(){\r\n      \tlet a = ''\r\n      \tlet packageId = this.$route.query.packageId\r\n\t\t\t\tif(this.$route.query.shareBy){\r\n\t\t\t\t\ta = 2\r\n\t\t\t\t}else{\r\n\t\t\t\t\ta = 1\r\n\t\t\t\t}\r\n      \tthis.$Api.getGiftDetails(a,packageId).then((res)=>{\r\n      \t\tif(res.q.s == 0){\r\n      \t\t\tthis.showBottom = true\r\n      \t\t\tthis.article = res.q.article\r\n\t\t\t      this.expireTime = res.q.expireTime\r\n\t\t\t      this.gifts = res.q.gifts\r\n\t\t\t      this.type = res.q.gifts[0].spuType\r\n\t\t\t      this.packageId = res.q.packageId\r\n\t\t\t      if(a==2){\r\n\t\t\t      \tthis.$toast('礼物领取成功')\r\n\t\t\t      }\r\n      \t\t}else{\r\n      \t\t\tthis.showBottom = false\r\n      \t\t\tthis.article = res.q.article\r\n\t\t\t      this.gifts = res.q.gifts\r\n\t\t\t      this.$popup({\r\n\t\t\t      \tcontent:res.q.d,\r\n\t\t\t      \tshowCancel:false,\r\n\t\t\t      }).then((res)=>{\r\n\t\t\t      \tif(res=='sure'){\r\n\t\t\t      \t\tthis.$router.replace({name:'Index'})\r\n\t\t\t      \t}\r\n\t\t\t      })\r\n      \t\t}\r\n      \t})\r\n      },\r\n    },\r\n\r\n    components: {\r\n      Gift\r\n    }\r\n  }\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n  #giftDetail {\r\n    height: 100%;\r\n    background: #f0f0f0;\r\n\r\n    .giftDetail__info {\r\n      background: #fff;\r\n\r\n      .info__user {\r\n        display: flex;\r\n        flex-direction: row;\r\n        padding: 0.267rem 0.4rem;\r\n        height: 1.6rem;\r\n        box-sizing: content-box;\r\n\r\n        .user__avatar {\r\n          width: 2rem;\r\n          margin-right: 0.4rem;\r\n\r\n          img {\r\n            width: 1.6rem;\r\n            height: 1.6rem;\r\n            border-radius: 50%;\r\n          }\r\n        }\r\n\r\n        .user__right {\r\n          display: flex;\r\n          width: 100%;\r\n          flex-direction: row;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n\r\n          .user__right__info {\r\n            display: flex;\r\n            height: 100%;\r\n            flex-direction: column;\r\n            justify-content: space-around;\r\n\r\n            .info__name {\r\n              font-size: 0.4rem;\r\n              color: #333;\r\n            }\r\n\r\n            .info__date {\r\n              color: #666;\r\n            }\r\n          }\r\n\r\n          .user__right__btn {\r\n            .btn__icon {\r\n              margin: 0.1rem auto;\r\n              width: 0.48rem;\r\n              height: 0.48rem;\r\n              background: url('../../../assets/gift_back.png') no-repeat;\r\n              background-size: 100%;\r\n            }\r\n            \r\n            .btn__text {\r\n              color: #666;\r\n              font-size: 0.267rem;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .info__message {\r\n        padding: 0 0.4rem;\r\n        padding-bottom: 1px; \r\n\r\n        .info__message__content {\r\n          font-size: 0.4rem;\r\n        }\r\n\r\n        .info__message__video {\r\n          position: relative;\r\n          margin: 0.4rem 0;\r\n          width: 2.8rem;\r\n\r\n          .video {\r\n            width: 2.8rem;\r\n            height: 2.8rem;\r\n          }\r\n\r\n          .play {\r\n            position: absolute;\r\n            left: 0;\r\n            top: 0;\r\n            width: 2.8rem;\r\n            height: 2.8rem;\r\n            z-index: 99;\r\n\r\n            .play__icon {\r\n              position: absolute;\r\n              left: 50%;\r\n              top: 50%;\r\n              transform: translate(-50%, -50%);\r\n              width: 0.587rem;\r\n              height: 0.587rem;\r\n              background: url('../../../assets/btn_play.png') no-repeat;\r\n              background-size: 100%;\r\n            }\r\n\r\n            .play__text {\r\n              position: absolute;\r\n              left: 50%;\r\n              bottom: 0.3rem;\r\n              width: 100%;\r\n              transform: translateX(-50%);\r\n              font-size: 0.32rem;\r\n              text-align: center;\r\n              color: #fff;\r\n            }\r\n          }\r\n\r\n          &::after {\r\n            content: '';\r\n            position: absolute;\r\n            left: 0;\r\n            top: 0;\r\n            width: 100%;\r\n            height: 100%;\r\n            /*background: rgba(0,0,0, 0.4);*/\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n   \r\n\r\n    .giftDetail__btn {\r\n      position: fixed;\r\n      bottom: 0;\r\n      left: 0;\r\n      display: flex;\r\n      width: 100%;\r\n      height: 1.31rem;\r\n      background: #fff;\r\n      font-size: 0;\r\n\r\n      .btn {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        flex:1;\r\n        height: 100%;\r\n        font-size: 0.453rem;\r\n        text-align: center;\r\n        color: #de7fef;\r\n      }\r\n\r\n      .btn+.btn {\r\n        position: relative;\r\n        &:after {\r\n          content: '';\r\n          position: absolute;\r\n          top: 15%;\r\n          height: 70%;\r\n          left: 0;\r\n          border-left: 1px solid #eee;\r\n        }\r\n      }\r\n\r\n      .col {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Mine/GiftDetail/GiftDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"giftDetail\"}},[_c('common-header',{attrs:{\"title\":'礼物详情'}}),_vm._v(\" \"),_c('div',{staticClass:\"giftDetail__info\"},[_c('div',{staticClass:\"info__user\"},[_c('div',{staticClass:\"user__avatar\"},[_c('img',{attrs:{\"src\":_vm.article.imagePath,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"user__right\"},[_c('div',{staticClass:\"user__right__info\"},[_c('div',{staticClass:\"info__name\"},[_c('span',[_vm._v(_vm._s(_vm.article.authorName))])]),_vm._v(\" \"),_c('div',{staticClass:\"info__date\"},[_vm._v(_vm._s(_vm.article.time))])]),_vm._v(\" \"),_c('div',{staticClass:\"user__right__btn\",on:{\"click\":_vm.reply}},[_c('div',{staticClass:\"btn__icon\"}),_vm._v(\" \"),_c('div',{staticClass:\"btn__text\"},[_vm._v(\"回礼\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"info__message\"},[_c('div',{staticClass:\"info__message__content\"},[_vm._v(_vm._s(_vm.article.content))]),_vm._v(\" \"),_c('div',{staticClass:\"info__message__video\"},_vm._l((_vm.article.images),function(item,index){return _c('img',{staticClass:\"video\",attrs:{\"src\":item.imagePath,\"alt\":\"\"}})}))])]),_vm._v(\" \"),_c('Gift',{staticClass:\"giftDetail__good\",attrs:{\"gifts\":_vm.gifts}}),_vm._v(\" \"),(_vm.showBottom)?_c('div',{staticClass:\"giftDetail__btn\"},[_c('div',{staticClass:\"btn\",on:{\"click\":_vm.transmit}},[_vm._v(\"转赠\")]),_vm._v(\" \"),(_vm.type == '1')?_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.recoverGift(2)}}},[_vm._v(\"回收\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"btn col\",on:{\"click\":function($event){_vm.linkToUrl({name:'Send',query:{packageId: _vm.packageId,type: _vm.type,spuId: _vm.spuId,skuId: _vm.skuId}})}}},[_c('div',{staticClass:\"send\"},[_vm._v(\"实物发货\")]),_vm._v(\" \"),(_vm.type==1)?_c('div',{staticClass:\"time\"},[_vm._v(\"(\"+_vm._s(_vm.expireTime)+\")\")]):_vm._e()])]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-38295f1b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Mine/GiftDetail/GiftDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true,\\\"importLoader\\\":2}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-38295f1b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GiftDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GiftDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GiftDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-38295f1b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GiftDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Mine/GiftDetail/GiftDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}