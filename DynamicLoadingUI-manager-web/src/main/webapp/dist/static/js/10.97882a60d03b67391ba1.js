webpackJsonp([10],{DO7v:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("C5nv"),l=i("aamZ"),a=i("emi3"),n=i("yjFE"),o={data:function(){var t=this;return{showSex:!1,actions:[{name:"男",callback:function(){t.selectSex(1)}},{name:"女",callback:function(){t.selectSex(2)}}],username:"",sex:"",idcode:"",job:"",imgIdList:[],imgIdLis2:[],email:"",mobile:"",code:"",checkKey:""}},copmuted:{isFinished:function(){return""!=this.username&&""!=this.sex&&""!=this.idcode&&""!=this.email&&""!=this.mobile&&this.imgIdList.length>0&&this.imgIdLis2.length>0}},methods:{openSex:function(){this.showSex=!0},selectSex:function(t){this.sex=1==t?1:2,this.showSex=!1},getIdImg:function(t){this.imgIdList=t},getStuImg:function(t){this.imgIdLis2=t},getSmsCode:function(){var t=this,e={a:1,type:12,mobile:this.mobile};this.$Api.SMSCode(e).then(function(e){0==e.q.s?(t.$toast("发送成功!"),t.checkKey=e.q.checkKey):t.$toast(e.q.d)})},getCode:function(){if(11==this.mobile.length){if(this.count>0)return;this.count=10,this.isSend=!0,this.countDown(),this.getSmsCode()}else this.$toast("请输入正确手机号")},countDown:function(){var t=this,e=setInterval(function(){t.count--,t.count<=0&&(t.count=0,t.isSend=!1,clearInterval(e))},1e3)},submitCode:function(){var t=this,e={a:2,type:12,mobile:this.mobile,checkKey:this.checkKey,code:this.code};this.$Api.SMSCode(e).then(function(e){0==e.q.s||t.$toast("手机验证码出错")})},getMarketerApplySubmit:function(){var t=this;if(""!=this.username&&""!=this.sex&&""!=this.idcode&&""!=this.email&&""!=this.mobile&&this.imgIdList.length>0&&this.imgIdLis2.length>0){var e=this.checkKey,i={name:this.name,sex:this.sex,job:this.job,idCardImage:{code:this.idcode,imageFontId:this.imgIdList[0],ownerImageId:this.imgIdLis2[0]},email:this.email};this.$Api.getMarketerApplySubmit(1,e,i).then(function(e){console.log(e),0==e.q.s?(t.$toast("申请成功"),setTimeout(function(){t.$router.replace({name:"Promote"})},1500)):t.$toast(e.q.d)})}else this.$toast("请填写完整信息")}},components:{Cell:s.a,MyTextArea:l.a,UploadImgt:n.a,UploadImgs:a.a}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"promoteInfo"}},[i("commonHeader",{attrs:{title:"个人信息"}}),t._v(" "),i("Cell",{attrs:{title:"真实姓名",type:"input",placeholder:"真实姓名，需与身份证一致"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),i("Cell",{attrs:{title:"性别",value:1==t.sex?"男":2==t.sex?"女":""},on:{click:t.openSex}}),t._v(" "),i("Cell",{attrs:{title:"我的职业",type:"input",placeholder:"请输入职业"},model:{value:t.job,callback:function(e){t.job=e},expression:"job"}}),t._v(" "),i("Cell",{attrs:{title:"身份证号码",type:"idCard",placeholder:"真实姓名，需与身份证一致"},model:{value:t.idcode,callback:function(e){t.idcode=e},expression:"idcode"}}),t._v(" "),i("div",{staticClass:"apply__identity border",staticStyle:{"border-top":"1px solid #eee"}},[i("div",{staticClass:"apply__identity__title title"},[t._v("身份认证")]),t._v(" "),i("div",{staticClass:"apply__identity__upload"},[i("div",{staticClass:"upload"},[i("UploadImgs",{attrs:{maxImgNum:1},on:{getIds:t.getIdImg}}),t._v(" "),i("div",{staticClass:"upload__text"},[t._v("身份证正面照")])],1),t._v(" "),i("div",{staticClass:"upload"},[i("UploadImgt",{attrs:{maxImgNum:1},on:{getIds:t.getStuImg}}),t._v(" "),i("div",{staticClass:"upload__text"},[t._v("学生证")])],1)])]),t._v(" "),t._m(0),t._v(" "),i("Cell",{attrs:{title:"邮箱",type:"input",placeholder:"请填写邮箱"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),i("Cell",{attrs:{title:"手机号码",type:"tel",placeholder:"请填写手机号码"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),t._v(" "),i("div",{staticClass:"sms__code",staticStyle:{border:"1px solid #eee"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),i("span",{staticClass:"get-code",on:{click:t.getCode}},[t._v("获取验证码")])]),t._v(" "),i("div",{staticClass:"footer-btn active",on:{click:t.getMarketerApplySubmit}},[t._v("\n    \t\t提交资料\n    \t")]),t._v(" "),i("van-actionsheet",{attrs:{actions:t.actions,"cancel-text":"取消"},model:{value:t.showSex,callback:function(e){t.showSex=e},expression:"showSex"}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"apply__tips",staticStyle:{"border-bottom":"1px solid #eee"}},[e("p",{staticClass:"apply__tips__text"},[this._v("温馨提示")]),this._v(" "),e("p",{staticClass:"apply__tips__text"},[this._v("1.为了保证您的认证顺利，请保证信息清晰可见。")]),this._v(" "),e("p",{staticClass:"apply__tips__text"},[this._v("2.您提交的信息仅用于申请创业基金认证，请放心上传。")])])}]},r=i("VU/8")(o,c,!1,function(t){i("FsQv")},null,null);e.default=r.exports},FsQv:function(t,e){},OCzD:function(t,e){},emi3:function(t,e,i){"use strict";var s={props:{maxImgNum:{type:Number,default:6}},data:function(){return{imgList:[],fileList:[],urlList:[],upLoadUrlList:[],imgIdList:[]}},computed:{},methods:{selectStar:function(t){this.starIndex=t},uploadImg:function(){var t=this,e=document.getElementById("publish-imgs").files[0],i=e.name;this.fileList.push(e),this.oFile=e;var s={a:1,type:1,filename:i,oFile:e};this.getExternalUploadObject(s);var l=new FileReader;l.readAsDataURL(e),l.onload=function(i){var s=i.currentTarget.result;t.imgList.push(s),e.value="",document.getElementById("publish-imgs").value=""}},delImg:function(t,e){this.imgList.splice(e,1),this.urlList.splice(e,1),this.fileList.splice(e,1),this.imgIdList.splice(e,1)},getExternalUploadObject:function(t){var e=this;this.$Api.getExternalUploadObject(t).then(function(i){if(console.log(t),0==i.q.s){e.cos=i.q.cos;var s={accessUrl:i.q.cos.accessUrl,sourceUrl:i.q.cos.sourceUrl};e.$upLoadToCos(i.q.cos.url,t.oFile),e.getExternalFilesSubmit(s)}})},getExternalFilesSubmit:function(t){var e=this,i=[];i.push(t),console.log(i),this.$Api.getExternalFilesSubmit(1,1,i).then(function(t){if(console.log(t),0==t.q.s){t.q.files.forEach(function(t){console.log(t.id),e.imgIdList.push(t.id)}),e.$emit("getIds",e.imgIdList)}})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clearfix",attrs:{id:"UploadImg"}},["SendGift"==t.$route.name?[s("ul",[t._l(t.imgList,function(e,l){return s("li",[s("img",{staticClass:"publish-icon",staticStyle:{width:"2.8rem",height:"2.8rem"},attrs:{src:e}}),t._v(" "),s("div",{staticClass:"del-btn",on:{click:function(i){t.delImg(e,l)}}},[s("img",{attrs:{src:i("Xmmv")}})])])}),t._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length<t.maxImgNum,expression:"imgList.length<maxImgNum"}]},[s("img",{staticClass:"publish-icon",staticStyle:{width:"2.8rem",height:"2.8rem"},attrs:{src:i("rGQL")}}),t._v(" "),s("input",{ref:"imgInput",staticClass:"publish-img",attrs:{type:"file",accept:"image/*",name:"file[]",id:"publish-imgs"},on:{change:function(e){t.uploadImg(e)}}})])],2)]:[s("ul",[t._l(t.imgList,function(e,l){return s("li",[s("img",{staticClass:"publish-icon",attrs:{src:e}}),t._v(" "),s("div",{staticClass:"del-btn",on:{click:function(i){t.delImg(e,l)}}},[s("img",{attrs:{src:i("Xmmv")}})])])}),t._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length<t.maxImgNum,expression:"imgList.length<maxImgNum"}]},[s("img",{staticClass:"publish-icon",attrs:{src:i("rGQL")}}),t._v(" "),s("input",{ref:"imgInput",attrs:{type:"file",accept:"image/*",name:"file[]",id:"publish-imgs"},on:{change:function(e){t.uploadImg(e)}}})])],2)]],2)},staticRenderFns:[]},a=i("VU/8")(s,l,!1,function(t){i("uMzv")},null,null);e.a=a.exports},uMzv:function(t,e){},yjFE:function(t,e,i){"use strict";var s={props:{maxImgNum:{type:Number,default:6}},data:function(){return{imgList:[],fileList:[],urlList:[],upLoadUrlList:[],imgIdList:[]}},computed:{},methods:{selectStar:function(t){this.starIndex=t},uploadImg:function(){var t=this,e=document.getElementById("publish-imgt").files[0],i=e.name;this.fileList.push(e),this.oFile=e;var s={a:1,type:1,filename:i,oFile:e};this.getExternalUploadObject(s);var l=new FileReader;l.readAsDataURL(e),l.onload=function(i){var s=i.currentTarget.result;t.imgList.push(s),e.value="",document.getElementById("publish-imgt").value=""}},delImg:function(t,e){this.imgList.splice(e,1),this.urlList.splice(e,1),this.fileList.splice(e,1),this.imgIdList.splice(e,1)},getExternalUploadObject:function(t){var e=this;this.$Api.getExternalUploadObject(t).then(function(i){if(console.log(t),0==i.q.s){e.cos=i.q.cos;var s={accessUrl:i.q.cos.accessUrl,sourceUrl:i.q.cos.sourceUrl};e.$upLoadToCos(i.q.cos.url,t.oFile),e.getExternalFilesSubmit(s)}})},getExternalFilesSubmit:function(t){var e=this,i=[];i.push(t),console.log(i),this.$Api.getExternalFilesSubmit(1,1,i).then(function(t){if(console.log(t),0==t.q.s){t.q.files.forEach(function(t){console.log(t.id),e.imgIdList.push(t.id)}),e.$emit("getIds",e.imgIdList)}})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clearfix",attrs:{id:"UploadImg"}},["SendGift"==t.$route.name?[s("ul",[t._l(t.imgList,function(e,l){return s("li",[s("img",{staticClass:"publish-icon",staticStyle:{width:"2.8rem",height:"2.8rem"},attrs:{src:e}}),t._v(" "),s("div",{staticClass:"del-btn",on:{click:function(i){t.delImg(e,l)}}},[s("img",{attrs:{src:i("Xmmv")}})])])}),t._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length<t.maxImgNum,expression:"imgList.length<maxImgNum"}]},[s("img",{staticClass:"publish-icon",staticStyle:{width:"2.8rem",height:"2.8rem"},attrs:{src:i("rGQL")}}),t._v(" "),s("input",{ref:"imgInput",attrs:{type:"file",accept:"image/*",name:"file[]",id:"publish-imgt"},on:{change:function(e){t.uploadImg(e)}}})])],2)]:[s("ul",[t._l(t.imgList,function(e,l){return s("li",[s("img",{staticClass:"publish-icon",attrs:{src:e}}),t._v(" "),s("div",{staticClass:"del-btn",on:{click:function(i){t.delImg(e,l)}}},[s("img",{attrs:{src:i("Xmmv")}})])])}),t._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length<t.maxImgNum,expression:"imgList.length<maxImgNum"}]},[s("img",{staticClass:"publish-icon",attrs:{src:i("rGQL")}}),t._v(" "),s("input",{ref:"imgInput",attrs:{type:"file",accept:"image/*",name:"file[]",id:"publish-imgt"},on:{change:function(e){t.uploadImg(e)}}})])],2)]],2)},staticRenderFns:[]},a=i("VU/8")(s,l,!1,function(t){i("OCzD")},null,null);e.a=a.exports}});
//# sourceMappingURL=10.97882a60d03b67391ba1.js.map