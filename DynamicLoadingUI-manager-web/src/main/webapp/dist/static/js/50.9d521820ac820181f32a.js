webpackJsonp([50],{"/RtU":function(e,t){},dag4:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("AJcs"),i=s.n(o),n={data:function(){return{oldpassword:"",password:"",code:"",checkKey:"",mobile:"",sended:!1,btnText:"获取验证码"}},computed:{isFinish:function(){return!(!this.password||!this.code)}},created:function(){},methods:{getSMSCode:function(){var e=this;if(this.sended)return!1;if(""!=this.password){this.$Api.SMSCode({a:1,type:10}).then(function(t){if(console.log(t),0==t.q.s){e.sended=!0,e.$toast("发送成功!"),e.checkKey=t.q.checkKey,e.mobile=t.q.mobile;for(var s=function(t){setTimeout(function(){e.btnText=t+"s",0==t&&(e.btnText="获取验证码",e.sended=!1)},1e3*(60-t-1))},o=60;o>=0;o--)s(o)}else e.$toast(t.q.d)})}else this.$toast("请输入新密码")},submit:function(){var e=this;if(!this.isFinish)return!1;var t={a:2,type:10,checkKey:this.checkKey,code:this.code};this.$Api.SMSCode(t).then(function(t){if(console.log(t),0==t.q.s){var s={a:2,checkKey:e.checkKey,newPassword:i()(e.$paykey+i()(e.password))};e.$Api.UserUpdatePassword(s).then(function(t){console.log(t),0==t.q.s?(e.$toast("修改成功"),setTimeout(function(){e.$router.go(-1)},1500)):e.$toast(t.q.d)})}else e.$toast("手机验证码出错")})}}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"editPay"}},[s("common-header",{attrs:{title:"修改支付密码"}}),e._v(" "),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"新支付密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",placeholder:"短信验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),s("span",{staticClass:"btn",class:{sended:e.sended},on:{click:e.getSMSCode}},[e._v(e._s(e.btnText))])]),e._v(" "),e.sended?s("div",{staticClass:"info"},[e._v("验证码已发送至手机："+e._s(e.mobile))]):e._e(),e._v(" "),s("div",{staticClass:"finish__btn",class:{active:e.isFinish},on:{click:e.submit}},[e._v("完成")])],1)},staticRenderFns:[]},c=s("VU/8")(n,a,!1,function(e){s("/RtU")},null,null);t.default=c.exports}});
//# sourceMappingURL=50.9d521820ac820181f32a.js.map