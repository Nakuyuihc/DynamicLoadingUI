webpackJsonp([33],{Y8V4:function(e,t){},triX:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{code:"",mobile:"",sended:!1,btnText:"获取验证码"}},computed:{isFinish:function(){return!!this.code}},created:function(){this.getUser()},methods:{getUser:function(){var e=localStorage.getItem("UserDetails"),t=JSON.parse(e);this.mobile=t.mobile,console.log(t)},getSMSCode:function(){var e=this;if(this.sended)return!1;var t={a:1,type:5,mobile:this.mobile};this.$Api.SMSCode(t).then(function(t){if(console.log(t),0==t.q.s){e.sended=!0,e.$toast("发送成功!"),e.checkKey=t.q.checkKey;for(var s=function(t){setTimeout(function(){e.btnText=t+"s",0==t&&(e.btnText="获取验证码",e.sended=!1)},1e3*(10-t-1))},i=10;i>=0;i--)s(i)}else e.$toast(t.q.d)})},submit:function(){var e=this,t={a:2,type:5,mobile:this.mobile,code:this.code};this.$Api.SMSCode(t).then(function(t){0==t.q.s?e.$router.push("editPhone"):e.$toast(t.q.d)})}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"code"}},[s("common-header",{attrs:{title:"修改手机"}}),e._v(" "),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",placeholder:"短信验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),s("span",{staticClass:"btn",class:{sended:e.sended},on:{click:e.getSMSCode}},[e._v(e._s(e.btnText))])]),e._v(" "),s("div",{staticClass:"info"},[e._v("验证码已发送至手机： "+e._s(e.mobile.substring(0,3)+"****"+e.mobile.substring(7,11)))]),e._v(" "),s("div",{staticClass:"finish__btn",class:{active:e.isFinish},on:{click:e.submit}},[e._v("下一步")])],1)},staticRenderFns:[]},o=s("OF7X")(i,n,!1,function(e){s("Y8V4")},null,null);t.default=o.exports}});
//# sourceMappingURL=33.74563966bf7d74eaffab.js.map