webpackJsonp([11],{B2qG:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("ZLEe"),c=e.n(a),i={data:function(){return{bankList:[],isShowBank:!1,code:"",accountName:"",accountIdCode:"",activeBank:{},changeBank:{},sended:!1,btnText:"获取验证码"}},created:function(){this.getBankList()},computed:{isFinish:function(){return""!=this.accountName&&""!=this.accountIdCode&&""!=this.code&&c()(this.activeBank).length>0}},methods:{getBankList:function(){var t=this;this.$Api.getBankList(3).then(function(n){console.log(n),0==n.q.s&&(t.bankList=n.q.banks)})},onCancel:function(){this.isShowBank=!1},onConfirm:function(t,n){this.activeBank=t,this.isShowBank=!1},sendCode:function(){var t=this;if(this.sended)return!1;this.sended=!0;for(var n=function(n){setTimeout(function(){t.btnText=n+"s",0==n&&(t.btnText="获取验证码",t.sended=!1)},1e3*(10-n-1))},e=10;e>=0;e--)n(e)},AddCard:function(){if(!this.isFinish)return!1;var t={id:0,accountIdCode:this.accountIdCode,accountName:this.accountName,accountBankId:this.activeBank.id};this.$Api.AddCard(t).then(function(t){console.log(t)})}},components:{Cell:e("C5nv").a}},o={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"addBankCard"}},[e("common-header",{attrs:{title:"添加银行卡"}}),t._v(" "),e("div",{staticClass:"addBankCard__title"},[t._v("请绑定持卡人本人的银行卡")]),t._v(" "),e("Cell",{attrs:{title:"持卡人",type:"input",placeholder:"请输入姓名"},model:{value:t.accountName,callback:function(n){t.accountName=n},expression:"accountName"}}),t._v(" "),e("Cell",{attrs:{title:"银行名称",value:t.activeBank.name},on:{click:function(n){t.isShowBank=!0}}}),t._v(" "),e("Cell",{attrs:{title:"卡号",type:"number",placeholder:"请输入银行卡号"},model:{value:t.accountIdCode,callback:function(n){t.accountIdCode=n},expression:"accountIdCode"}}),t._v(" "),e("div",{staticClass:"addBankCard__code"},[e("span",{staticClass:"code__text"},[t._v("验证码")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"code__input",attrs:{type:"text",placeholder:"请输入收到的验证码"},domProps:{value:t.code},on:{input:function(n){n.target.composing||(t.code=n.target.value)}}}),t._v(" "),e("span",{staticClass:"code__btn",class:{sended:t.sended},on:{click:t.sendCode}},[t._v(t._s(t.btnText))])]),t._v(" "),e("div",{staticClass:"addBankCard__btn",class:{active:t.isFinish},on:{click:t.AddCard}},[t._v("绑定银行卡")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBank,expression:"isShowBank"}],staticClass:"picker needsclick"},[e("van-picker",{attrs:{columns:t.bankList,"value-key":"name","show-toolbar":!0},on:{cancel:t.onCancel,confirm:t.onConfirm}})],1)],1)},staticRenderFns:[]},s=e("OF7X")(i,o,!1,function(t){e("UVM1")},null,null);n.default=s.exports},CLwS:function(t,n,e){var a=e("NUpW"),c=e("OtAM");e("Mx9c")("keys",function(){return function(t){return c(a(t))}})},Mx9c:function(t,n,e){var a=e("MITN"),c=e("UusJ"),i=e("xVzf");t.exports=function(t,n){var e=(c.Object||{})[t]||Object[t],o={};o[t]=n(e),a(a.S+a.F*i(function(){e(1)}),"Object",o)}},UVM1:function(t,n){},ZLEe:function(t,n,e){t.exports={default:e("rhsp"),__esModule:!0}},rhsp:function(t,n,e){e("CLwS"),t.exports=e("UusJ").Object.keys}});
//# sourceMappingURL=11.39a882c894ce55aba30f.js.map